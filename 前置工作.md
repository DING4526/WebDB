## 一、安装 XAMPP（必须管理员）

### 1️⃣ 右键 → 以管理员身份运行

你资源里的这个文件是 👇

```
xampp-windows-x64-8.2.12-0-VS16-installer.exe
```

**这正是你该用的版本，不要自行更换。**

⚠️ 必须管理员运行，避免后续 Apache / MySQL 权限问题。

------

### 2️⃣ 安装时注意（照做）

- **安装路径（建议）**

	```
	D:\xampp
	```

- **组件选择**

	- ✅ Apache
	- ✅ MySQL
	- ⭕ FileZilla / Tomcat 可不选

一路 **Next → Finish**

------

### 3️⃣ 第一次启动 XAMPP（关键）

1. 右键 `xampp-control.exe`
2. 👉 **以管理员身份运行**
3. 点击：
	- Start Apache
	- Start MySQL

正常状态应为：

- 模块显示 **绿色**
- 日志中 **无红色报错**

------

## 二、配置 PHP 环境变量

> ⚠️ **不配置此步，后面的 `.\init` 必然失败**

------

### 1️⃣ 确认 php.exe 位置

在你的 XAMPP 中，确认文件存在：

```
D:\xampp\php\php.exe
```

------

### 2️⃣ 添加到系统环境变量 Path

#### 打开环境变量设置

1. **此电脑** → 右键 → **属性**
2. **高级系统设置**
3. **环境变量**

------

#### 修改「系统变量」里的 Path

1. 在下方 **系统变量**
2. 找到 `Path` → **编辑**
3. 点击 **新建**
4. 添加：

```
D:\xampp\php
```

1. 一路 **确定 / 确定 / 确定**

------

### 3️⃣ 重要一步（必须）

👉 **关闭所有 PowerShell / CMD 窗口**
 然后重新打开一个新的。

------

### 4️⃣ 验证是否成功（必验）

在新打开的命令行中执行：

```
php -v
```

能看到类似：

```
PHP 8.2.x (cli)
```

✅ **看到这个，才可以继续后续步骤**

------

## 三、解压并放置 Yii2 Advanced 项目

------

### 1️⃣ 解压项目包

对文件：

```
yii-advanced-app-2.0.32.tgz
```

右键解压（Bandizip / 7zip 均可），得到文件夹：

```
yii-advanced-app-2.0.32
```

------

### 2️⃣ 重命名（强烈建议）

重命名为：

```
advanced
```

------

### 3️⃣ 移动到 htdocs

最终目录结构应为：

```
D:\xampp\htdocs\advanced\
```

进入后你应看到：

```
backend
frontend
common
console
vendor
init.bat
yii.bat
```

------

## 四、初始化 Yii2（此时不应再报 php.exe 错）

------

### 1️⃣ 打开命令行到项目目录

- 在 `D:\xampp\htdocs\advanced` 空白处
- **Shift + 右键 → 在此处打开 PowerShell / CMD**

------

### 2️⃣ 执行 init

```
.\init
```

出现提示：

```
Which environment do you want the application to be initialized in?

[0] Development
[1] Production
```

输入：

```
0
```

回车，然后输入：

```
yes
```

------

### ✅ 正常完成标志

```
Initialization completed.
```

> 如果此时还提示 `php.exe 不是内部命令`，说明 **环境变量未生效或终端未重开**

------

## 五、创建数据库（phpMyAdmin）

------

### 1️⃣ 打开 phpMyAdmin

```
http://localhost/phpmyadmin
```

------

### 2️⃣ 新建数据库

- 数据库名（建议）：

```
yii2advanced
```

- 字符集：

```
utf8mb4_general_ci
```

------

## 六、配置数据库连接

------

### 打开配置文件

```
D:\xampp\htdocs\advanced\common\config\main-local.php
```

------

### 修改 `'db' => [...]` 为（示例）

```
'db' => [
    'class' => 'yii\db\Connection',
    'dsn' => 'mysql:host=localhost;dbname=yii2advanced',
    'username' => 'root',
    'password' => '',
    'charset' => 'utf8',
],
```

> XAMPP 默认 root 通常没有密码；如你设置过，请自行填写。

------

## 七、执行迁移建表

------

仍在项目根目录执行：

```
yii.bat migrate
```

确认时输入：

```
yes
```

看到：

```
Migrated up successfully.
```

------

## 八、访问前台 / 后台

------

✅ 前台：

```
http://localhost/advanced/frontend/web/
```

✅ 后台：

```
http://localhost/advanced/backend/web/
```

能看到 Yii2 页面，即说明 **环境 + 项目全部跑通**。